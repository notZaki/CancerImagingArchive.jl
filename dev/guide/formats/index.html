<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Formats · CancerImagingArchive.jl</title><meta name="title" content="Formats · CancerImagingArchive.jl"/><meta property="og:title" content="Formats · CancerImagingArchive.jl"/><meta property="twitter:title" content="Formats · CancerImagingArchive.jl"/><meta name="description" content="Documentation for CancerImagingArchive.jl."/><meta property="og:description" content="Documentation for CancerImagingArchive.jl."/><meta property="twitter:description" content="Documentation for CancerImagingArchive.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="CancerImagingArchive.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CancerImagingArchive.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Guide</span><ul><li class="is-active"><a class="tocitem" href>Formats</a><ul class="internal"><li><a class="tocitem" href="#DataFrames/CSV"><span>DataFrames/CSV</span></a></li><li><a class="tocitem" href="#DictionaryArray/JSON"><span>DictionaryArray/JSON</span></a></li><li><a class="tocitem" href="#Note-on-types"><span>Note on types</span></a></li></ul></li><li><a class="tocitem" href="../queries/">Queries</a></li><li><a class="tocitem" href="../downloading/">Data Download</a></li></ul></li><li><a class="tocitem" href="../../functions/">Functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Guide</a></li><li class="is-active"><a href>Formats</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Formats</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/notZaki/CancerImagingArchive.jl/blob/master/docs/src/guide/formats.md#L" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Formats"><a class="docs-heading-anchor" href="#Formats">Formats</a><a id="Formats-1"></a><a class="docs-heading-anchor-permalink" href="#Formats" title="Permalink"></a></h1><p>Most functions in this module return either a DataFrame (default) or a Dictionary Array. Both formats have their respective advantages and disadvantages.</p><h2 id="DataFrames/CSV"><a class="docs-heading-anchor" href="#DataFrames/CSV">DataFrames/CSV</a><a id="DataFrames/CSV-1"></a><a class="docs-heading-anchor-permalink" href="#DataFrames/CSV" title="Permalink"></a></h2><p>DataFrames display the results in a table and this is the default behaviour. The table is useful for visually analysing the results. For example, the studies in the <a href="https://wiki.cancerimagingarchive.net/display/Public/TCGA-SARC">TCGA-SARC collection</a> can be obtained by:</p><pre><code class="language-julia hljs">studies_df = tcia_studies(collection = &quot;TCGA-SARC&quot;)</code></pre><div><div style = "float: left;"><span>6×15 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">StudyInstanceUID</th><th style = "text-align: left;">StudyDate</th><th style = "text-align: left;">StudyDescription</th><th style = "text-align: left;">AdmittingDiagnosesDescription</th><th style = "text-align: left;">StudyID</th><th style = "text-align: left;">PatientAge</th><th style = "text-align: left;">PatientID</th><th style = "text-align: left;">PatientName</th><th style = "text-align: left;">PatientBirthDate</th><th style = "text-align: left;">PatientSex</th><th style = "text-align: left;">EthnicGroup</th><th style = "text-align: left;">Collection</th><th style = "text-align: left;">SeriesCount</th><th style = "text-align: left;">LongitudinalTemporalEventType</th><th style = "text-align: left;">LongitudinalTemporalOffsetFromEvent</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "String" style = "text-align: left;">String</th><th title = "InlineStrings.String31" style = "text-align: left;">String31</th><th title = "InlineStrings.String31" style = "text-align: left;">String31</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "InlineStrings.String7" style = "text-align: left;">String7</th><th title = "InlineStrings.String15" style = "text-align: left;">String15</th><th title = "InlineStrings.String15" style = "text-align: left;">String15</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "InlineStrings.String1" style = "text-align: left;">String1</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "InlineStrings.String15" style = "text-align: left;">String15</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "Missing" style = "text-align: left;">Missing</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">1.3.6.1.4.1.14519.5.2.1.3023.4024.194945893650500105451818109994</td><td style = "text-align: left;">1998-08-03 00:00:00.0</td><td style = "text-align: left;">CT ANGIOGRAPHY PELVIS W/WO CON</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">042Y</td><td style = "text-align: left;">TCGA-QQ-A5V2</td><td style = "text-align: left;">TCGA-QQ-A5V2</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">M</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">3</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">1.3.6.1.4.1.14519.5.2.1.3023.4024.201397008342044883871995521133</td><td style = "text-align: left;">2003-06-01 00:00:00.0</td><td style = "text-align: left;">CT CHEST ABD PELVIS W/ CONTR</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">064Y</td><td style = "text-align: left;">TCGA-QQ-A5VC</td><td style = "text-align: left;">TCGA-QQ-A5VC</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">F</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">2</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">1.3.6.1.4.1.14519.5.2.1.3023.4024.150353595775386960889448399748</td><td style = "text-align: left;">1997-11-26 00:00:00.0</td><td style = "text-align: left;">MRI LOWER EXTREMITY W/WO CONT</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">070Y</td><td style = "text-align: left;">TCGA-QQ-A8VF</td><td style = "text-align: left;">TCGA-QQ-A8VF</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">M</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">9</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;">1.3.6.1.4.1.14519.5.2.1.3023.4024.215308722288168917637555384485</td><td style = "text-align: left;">2002-03-15 00:00:00.0</td><td style = "text-align: left;">MRI THORACIC W/WO CONTRAST</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">031Y</td><td style = "text-align: left;">TCGA-QQ-A8VH</td><td style = "text-align: left;">TCGA-QQ-A8VH</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">F</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">11</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: left;">1.3.6.1.4.1.14519.5.2.1.3023.4024.298690116465423805879206377806</td><td style = "text-align: left;">1997-11-29 00:00:00.0</td><td style = "text-align: left;">CT CHEST W/ CONTRAST</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">070Y</td><td style = "text-align: left;">TCGA-QQ-A8VF</td><td style = "text-align: left;">TCGA-QQ-A8VF</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">M</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">6</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: left;">1.3.6.1.4.1.14519.5.2.1.3023.4024.122712175454295553928844869548</td><td style = "text-align: left;">2001-08-05 00:00:00.0</td><td style = "text-align: left;">CT CHEST ABD PELVIS W/ CONTR</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">052Y</td><td style = "text-align: left;">TCGA-QQ-A8VG</td><td style = "text-align: left;">TCGA-QQ-A8VG</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">M</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">2</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr></tbody></table></div><h3 id="Manipulating-the-DataFrame-object"><a class="docs-heading-anchor" href="#Manipulating-the-DataFrame-object">Manipulating the DataFrame object</a><a id="Manipulating-the-DataFrame-object-1"></a><a class="docs-heading-anchor-permalink" href="#Manipulating-the-DataFrame-object" title="Permalink"></a></h3><p>The table can be manipulated using tools from the <a href="https://juliadata.github.io/DataFrames.jl/stable/">DataFrames.jl</a> and <a href="https://juliadata.github.io/CSV.jl/stable/">CSV.jl</a> packages.</p><p>Individual columns in a DataFrame object–-suppose it is named <code>data_frame</code>–-can be accessed by <code>data_frame.column_name</code> where the available column names are in <code>names(data_frame)</code>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; names(studies_df)</code><code class="nohighlight hljs ansi" style="display:block;">15-element Vector{String}:
 &quot;StudyInstanceUID&quot;
 &quot;StudyDate&quot;
 &quot;StudyDescription&quot;
 &quot;AdmittingDiagnosesDescription&quot;
 &quot;StudyID&quot;
 &quot;PatientAge&quot;
 &quot;PatientID&quot;
 &quot;PatientName&quot;
 &quot;PatientBirthDate&quot;
 &quot;PatientSex&quot;
 &quot;EthnicGroup&quot;
 &quot;Collection&quot;
 &quot;SeriesCount&quot;
 &quot;LongitudinalTemporalEventType&quot;
 &quot;LongitudinalTemporalOffsetFromEvent&quot;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; studies_df.StudyDate</code><code class="nohighlight hljs ansi" style="display:block;">6-element Vector{InlineStrings.String31}:
 &quot;1998-08-03 00:00:00.0&quot;
 &quot;2003-06-01 00:00:00.0&quot;
 &quot;1997-11-26 00:00:00.0&quot;
 &quot;2002-03-15 00:00:00.0&quot;
 &quot;1997-11-29 00:00:00.0&quot;
 &quot;2001-08-05 00:00:00.0&quot;</code></pre><p>The table can also be filtered and sorted. As an example, the following lines will sort the previous table by the number of series and then remove the <code>StudyInstanceUID</code> and <code>PatientName</code> columns:</p><pre><code class="language-julia hljs">using DataFrames
studies_sorted_by_count = sort(studies_df, :SeriesCount)
select!(studies_sorted_by_count, Not([:StudyInstanceUID, :PatientName]))</code></pre><div><div style = "float: left;"><span>6×13 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">StudyDate</th><th style = "text-align: left;">StudyDescription</th><th style = "text-align: left;">AdmittingDiagnosesDescription</th><th style = "text-align: left;">StudyID</th><th style = "text-align: left;">PatientAge</th><th style = "text-align: left;">PatientID</th><th style = "text-align: left;">PatientBirthDate</th><th style = "text-align: left;">PatientSex</th><th style = "text-align: left;">EthnicGroup</th><th style = "text-align: left;">Collection</th><th style = "text-align: left;">SeriesCount</th><th style = "text-align: left;">LongitudinalTemporalEventType</th><th style = "text-align: left;">LongitudinalTemporalOffsetFromEvent</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "InlineStrings.String31" style = "text-align: left;">String31</th><th title = "InlineStrings.String31" style = "text-align: left;">String31</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "InlineStrings.String7" style = "text-align: left;">String7</th><th title = "InlineStrings.String15" style = "text-align: left;">String15</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "InlineStrings.String1" style = "text-align: left;">String1</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "InlineStrings.String15" style = "text-align: left;">String15</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "Missing" style = "text-align: left;">Missing</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">2003-06-01 00:00:00.0</td><td style = "text-align: left;">CT CHEST ABD PELVIS W/ CONTR</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">064Y</td><td style = "text-align: left;">TCGA-QQ-A5VC</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">F</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">2</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">2001-08-05 00:00:00.0</td><td style = "text-align: left;">CT CHEST ABD PELVIS W/ CONTR</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">052Y</td><td style = "text-align: left;">TCGA-QQ-A8VG</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">M</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">2</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">1998-08-03 00:00:00.0</td><td style = "text-align: left;">CT ANGIOGRAPHY PELVIS W/WO CON</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">042Y</td><td style = "text-align: left;">TCGA-QQ-A5V2</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">M</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">3</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;">1997-11-29 00:00:00.0</td><td style = "text-align: left;">CT CHEST W/ CONTRAST</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">070Y</td><td style = "text-align: left;">TCGA-QQ-A8VF</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">M</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">6</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: left;">1997-11-26 00:00:00.0</td><td style = "text-align: left;">MRI LOWER EXTREMITY W/WO CONT</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">070Y</td><td style = "text-align: left;">TCGA-QQ-A8VF</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">M</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">9</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: left;">2002-03-15 00:00:00.0</td><td style = "text-align: left;">MRI THORACIC W/WO CONTRAST</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">031Y</td><td style = "text-align: left;">TCGA-QQ-A8VH</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">F</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: left;">TCGA-SARC</td><td style = "text-align: right;">11</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "font-style: italic; text-align: right;">missing</td></tr></tbody></table></div><h3 id="Saving-DataFrame-as-CSV"><a class="docs-heading-anchor" href="#Saving-DataFrame-as-CSV">Saving DataFrame as CSV</a><a id="Saving-DataFrame-as-CSV-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-DataFrame-as-CSV" title="Permalink"></a></h3><p>The contents of the table can be written to a csv file by:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; dataframe_to_csv(dataframe = studies_df, file = &quot;output_file.csv&quot;)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="DictionaryArray/JSON"><a class="docs-heading-anchor" href="#DictionaryArray/JSON">DictionaryArray/JSON</a><a id="DictionaryArray/JSON-1"></a><a class="docs-heading-anchor-permalink" href="#DictionaryArray/JSON" title="Permalink"></a></h2><p>Instead of a table, an array of dictionaries can be obtained by passing <code>format = &quot;json&quot;</code> as an argument when calling the query function. For example, the DataFrame from the previous example could have been obtained as an array by:</p><pre><code class="language-julia hljs">studies_array = tcia_studies(collection = &quot;TCGA-SARC&quot;, format = &quot;json&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">6-element Vector{Any}:
 Dict{String, Any}(&quot;StudyDescription&quot; =&gt; &quot;CT ANGIOGRAPHY PELVIS W/WO CON&quot;, &quot;PatientName&quot; =&gt; &quot;TCGA-QQ-A5V2&quot;, &quot;PatientSex&quot; =&gt; &quot;M&quot;, &quot;PatientID&quot; =&gt; &quot;TCGA-QQ-A5V2&quot;, &quot;SeriesCount&quot; =&gt; 3, &quot;PatientAge&quot; =&gt; &quot;042Y&quot;, &quot;StudyInstanceUID&quot; =&gt; &quot;1.3.6.1.4.1.14519.5.2.1.3023.4024.194945893650500105451818109994&quot;, &quot;Collection&quot; =&gt; &quot;TCGA-SARC&quot;, &quot;StudyDate&quot; =&gt; &quot;1998-08-03 00:00:00.0&quot;)
 Dict{String, Any}(&quot;StudyDescription&quot; =&gt; &quot;CT CHEST ABD PELVIS W/ CONTR&quot;, &quot;PatientName&quot; =&gt; &quot;TCGA-QQ-A5VC&quot;, &quot;PatientSex&quot; =&gt; &quot;F&quot;, &quot;PatientID&quot; =&gt; &quot;TCGA-QQ-A5VC&quot;, &quot;SeriesCount&quot; =&gt; 2, &quot;PatientAge&quot; =&gt; &quot;064Y&quot;, &quot;StudyInstanceUID&quot; =&gt; &quot;1.3.6.1.4.1.14519.5.2.1.3023.4024.201397008342044883871995521133&quot;, &quot;Collection&quot; =&gt; &quot;TCGA-SARC&quot;, &quot;StudyDate&quot; =&gt; &quot;2003-06-01 00:00:00.0&quot;)
 Dict{String, Any}(&quot;StudyDescription&quot; =&gt; &quot;MRI LOWER EXTREMITY W/WO CONT&quot;, &quot;PatientName&quot; =&gt; &quot;TCGA-QQ-A8VF&quot;, &quot;PatientSex&quot; =&gt; &quot;M&quot;, &quot;PatientID&quot; =&gt; &quot;TCGA-QQ-A8VF&quot;, &quot;SeriesCount&quot; =&gt; 9, &quot;PatientAge&quot; =&gt; &quot;070Y&quot;, &quot;StudyInstanceUID&quot; =&gt; &quot;1.3.6.1.4.1.14519.5.2.1.3023.4024.150353595775386960889448399748&quot;, &quot;Collection&quot; =&gt; &quot;TCGA-SARC&quot;, &quot;StudyDate&quot; =&gt; &quot;1997-11-26 00:00:00.0&quot;)
 Dict{String, Any}(&quot;StudyDescription&quot; =&gt; &quot;MRI THORACIC W/WO CONTRAST&quot;, &quot;PatientName&quot; =&gt; &quot;TCGA-QQ-A8VH&quot;, &quot;PatientSex&quot; =&gt; &quot;F&quot;, &quot;PatientID&quot; =&gt; &quot;TCGA-QQ-A8VH&quot;, &quot;SeriesCount&quot; =&gt; 11, &quot;PatientAge&quot; =&gt; &quot;031Y&quot;, &quot;StudyInstanceUID&quot; =&gt; &quot;1.3.6.1.4.1.14519.5.2.1.3023.4024.215308722288168917637555384485&quot;, &quot;Collection&quot; =&gt; &quot;TCGA-SARC&quot;, &quot;StudyDate&quot; =&gt; &quot;2002-03-15 00:00:00.0&quot;)
 Dict{String, Any}(&quot;StudyDescription&quot; =&gt; &quot;CT CHEST W/ CONTRAST&quot;, &quot;PatientName&quot; =&gt; &quot;TCGA-QQ-A8VF&quot;, &quot;PatientSex&quot; =&gt; &quot;M&quot;, &quot;PatientID&quot; =&gt; &quot;TCGA-QQ-A8VF&quot;, &quot;SeriesCount&quot; =&gt; 6, &quot;PatientAge&quot; =&gt; &quot;070Y&quot;, &quot;StudyInstanceUID&quot; =&gt; &quot;1.3.6.1.4.1.14519.5.2.1.3023.4024.298690116465423805879206377806&quot;, &quot;Collection&quot; =&gt; &quot;TCGA-SARC&quot;, &quot;StudyDate&quot; =&gt; &quot;1997-11-29 00:00:00.0&quot;)
 Dict{String, Any}(&quot;StudyDescription&quot; =&gt; &quot;CT CHEST ABD PELVIS W/ CONTR&quot;, &quot;PatientName&quot; =&gt; &quot;TCGA-QQ-A8VG&quot;, &quot;PatientSex&quot; =&gt; &quot;M&quot;, &quot;PatientID&quot; =&gt; &quot;TCGA-QQ-A8VG&quot;, &quot;SeriesCount&quot; =&gt; 2, &quot;PatientAge&quot; =&gt; &quot;052Y&quot;, &quot;StudyInstanceUID&quot; =&gt; &quot;1.3.6.1.4.1.14519.5.2.1.3023.4024.122712175454295553928844869548&quot;, &quot;Collection&quot; =&gt; &quot;TCGA-SARC&quot;, &quot;StudyDate&quot; =&gt; &quot;2001-08-05 00:00:00.0&quot;)</code></pre><h3 id="Manipulating-the-Dictionary-Array"><a class="docs-heading-anchor" href="#Manipulating-the-Dictionary-Array">Manipulating the Dictionary Array</a><a id="Manipulating-the-Dictionary-Array-1"></a><a class="docs-heading-anchor-permalink" href="#Manipulating-the-Dictionary-Array" title="Permalink"></a></h3><p>The array can be manipulated by iterating over the elements. As an example, the following lines will collect patients that are less than 60 years old:</p><pre><code class="language-julia hljs">patients_below_60Y = []
for patient in studies_array
  if patient[&quot;PatientAge&quot;] &lt; &quot;060Y&quot;
    push!(patients_below_60Y, patient)
  end
end
# Print the new array:
patients_below_60Y</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Any}:
 Dict{String, Any}(&quot;StudyDescription&quot; =&gt; &quot;CT ANGIOGRAPHY PELVIS W/WO CON&quot;, &quot;PatientName&quot; =&gt; &quot;TCGA-QQ-A5V2&quot;, &quot;PatientSex&quot; =&gt; &quot;M&quot;, &quot;PatientID&quot; =&gt; &quot;TCGA-QQ-A5V2&quot;, &quot;SeriesCount&quot; =&gt; 3, &quot;PatientAge&quot; =&gt; &quot;042Y&quot;, &quot;StudyInstanceUID&quot; =&gt; &quot;1.3.6.1.4.1.14519.5.2.1.3023.4024.194945893650500105451818109994&quot;, &quot;Collection&quot; =&gt; &quot;TCGA-SARC&quot;, &quot;StudyDate&quot; =&gt; &quot;1998-08-03 00:00:00.0&quot;)
 Dict{String, Any}(&quot;StudyDescription&quot; =&gt; &quot;MRI THORACIC W/WO CONTRAST&quot;, &quot;PatientName&quot; =&gt; &quot;TCGA-QQ-A8VH&quot;, &quot;PatientSex&quot; =&gt; &quot;F&quot;, &quot;PatientID&quot; =&gt; &quot;TCGA-QQ-A8VH&quot;, &quot;SeriesCount&quot; =&gt; 11, &quot;PatientAge&quot; =&gt; &quot;031Y&quot;, &quot;StudyInstanceUID&quot; =&gt; &quot;1.3.6.1.4.1.14519.5.2.1.3023.4024.215308722288168917637555384485&quot;, &quot;Collection&quot; =&gt; &quot;TCGA-SARC&quot;, &quot;StudyDate&quot; =&gt; &quot;2002-03-15 00:00:00.0&quot;)
 Dict{String, Any}(&quot;StudyDescription&quot; =&gt; &quot;CT CHEST ABD PELVIS W/ CONTR&quot;, &quot;PatientName&quot; =&gt; &quot;TCGA-QQ-A8VG&quot;, &quot;PatientSex&quot; =&gt; &quot;M&quot;, &quot;PatientID&quot; =&gt; &quot;TCGA-QQ-A8VG&quot;, &quot;SeriesCount&quot; =&gt; 2, &quot;PatientAge&quot; =&gt; &quot;052Y&quot;, &quot;StudyInstanceUID&quot; =&gt; &quot;1.3.6.1.4.1.14519.5.2.1.3023.4024.122712175454295553928844869548&quot;, &quot;Collection&quot; =&gt; &quot;TCGA-SARC&quot;, &quot;StudyDate&quot; =&gt; &quot;2001-08-05 00:00:00.0&quot;)</code></pre><p>The available keys for each dictionary in the array are listed by:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; keys(studies_array[1])</code><code class="nohighlight hljs ansi" style="display:block;">KeySet for a Dict{String, Any} with 9 entries. Keys:
  &quot;StudyDescription&quot;
  &quot;PatientName&quot;
  &quot;PatientSex&quot;
  &quot;PatientID&quot;
  &quot;SeriesCount&quot;
  &quot;PatientAge&quot;
  &quot;StudyInstanceUID&quot;
  &quot;Collection&quot;
  &quot;StudyDate&quot;</code></pre><h3 id="Saving-Dictionary-Array-as-JSON"><a class="docs-heading-anchor" href="#Saving-Dictionary-Array-as-JSON">Saving Dictionary Array as JSON</a><a id="Saving-Dictionary-Array-as-JSON-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-Dictionary-Array-as-JSON" title="Permalink"></a></h3><p>The array can be written to a JSON file by</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; dictionary_to_json(dictionary = studies_array, file = &quot;output_file.json&quot;)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="Note-on-types"><a class="docs-heading-anchor" href="#Note-on-types">Note on types</a><a id="Note-on-types-1"></a><a class="docs-heading-anchor-permalink" href="#Note-on-types" title="Permalink"></a></h2><p>The DataFrames object tries to figure out the types from the input while the DictionaryArray just accepts whatever the API returns. For a practical example of this, suppose we want to know the size of an imaging series; the DataFrame version will be</p><pre><code class="language-julia hljs">tcia_series_size(series = &quot;1.3.6.1.4.1.14519.5.2.1.4591.4001.241972527061347495484079664948&quot;)</code></pre><div><div style = "float: left;"><span>1×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">TotalSizeInBytes</th><th style = "text-align: left;">ObjectCount</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">24012211806228</td><td style = "text-align: right;">124</td></tr></tbody></table></div><p>while the JSON version will be</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; tcia_series_size(series = &quot;1.3.6.1.4.1.14519.5.2.1.4591.4001.241972527061347495484079664948&quot;, format=&quot;json&quot;)[1]</code><code class="nohighlight hljs ansi" style="display:block;">Dict{String, Any} with 2 entries:
  &quot;ObjectCount&quot;      =&gt; 124
  &quot;TotalSizeInBytes&quot; =&gt; 24012211806228</code></pre><p>The difference between the two is that the DataFrames version recognizes that <code>TotalSizeInBytes</code> is a number whereas the DictionaryArray displays it as a string (because the API returns it as a string).</p><p>DataFrames&#39; ability to recognize types is usually helpful, but sometimes it can fail. For example, in an anonymized dataset where patient names are replaced by numbers, the DataFrames object will incorrectly treat the names as numbers.</p><p>These differences are unlikely to cause problems in practice so it isn&#39;t something to be actively concerned about.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Introduction</a><a class="docs-footer-nextpage" href="../queries/">Queries »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Wednesday 10 January 2024 07:26">Wednesday 10 January 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
